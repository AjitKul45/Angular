<section class="container">
  <div class="card shadow" style="padding: 5%; border-radius: 2%">
    <h2 *ngIf="!updateflag" class="text-center">Add Asset</h2>
    <h2 *ngIf="updateflag" class="text-center">Edit Asset</h2>
    <form class="form" #assetForm="ngForm" (ngSubmit)="submitAsset()">
      <div class="row">
        <div class="form-group col-4">
          <label for="Type">Type<sup class="star">*</sup></label>
          <select
            class="form-select"
            [(ngModel)]="asset.tyape"
            name="type"
            #type="ngModel"
            required
          >
            <option value="">Select Type</option>
            <option value="Laptop">Laptop</option>
            <option value="Desktop">Desktop</option>
            <option value="Moniter">Moniter</option>
            <Option value="Keyboard">Keyboard</Option>
            <option value="Mouse">Mouse</option>
          </select>
          <span *ngIf="type.invalid && type.touched" class="errorMessage"
            >Select Valid Type</span
          >
        </div>
        <div class="form-group col-4">
          <label for="Name">Name<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Name"
            name="Name"
            #name="ngModel"
            class="form-control"
            pattern="^[a-zA-Z0-9\s]+$"
            required
            [(ngModel)]="asset.name"
          />
          <span *ngIf="name.invalid && name.touched" class="errorMessage"
            ><span *ngIf="name.errors?.['required']" class="errorMessage"
              >Enter Valid Name</span
            >
            <span *ngIf="name.errors?.['pattern']" class="errorMessage"
              >Only digits,letters and blank space are allowed</span
            >
          </span>
        </div>
        <div class="form-group col-4">
          <label for="Proprietary">Proprietary<sup class="star">*</sup></label>
          <select
            class="form-select"
            name="proprietary"
            #proprietary="ngModel"
            required
            [(ngModel)]="asset.proprietary"
          >
            <option value="">Select Proprietary</option>
            <option value="Own">Own</option>
            <option value="Rent">Rent</option>
          </select>
          <span
            *ngIf="proprietary.invalid && proprietary.touched"
            class="errorMessage"
            >Select Proprietary</span
          >
        </div>
      </div>
      <div class="row">
        <div class="form-group col-4">
          <label for="configuration"
            >Configuration<sup class="star">*</sup></label
          >
          <input
            type="text"
            placeholder="Configuration"
            name="configuration"
            class="form-control"
            #config="ngModel"
            required
            [(ngModel)]="asset.configuration"
          />
          <span *ngIf="config.invalid && config.touched" class="errorMessage"
            >Enter Valid Configuration</span
          >
        </div>
        <div class="form-group col-4">
          <label for="serviceTag">Service Tag<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Service Tag"
            name="serviceTag"
            class="form-control"
            #stag="ngModel"
            required
            [(ngModel)]="asset.serviceTag"
          />
          <span *ngIf="stag.invalid && stag.touched" class="errorMessage"
            >Enter Service Tag</span
          >
        </div>
        <div class="form-group col-4">
          <label for="model">Model<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Model"
            name="model"
            #model="ngModel"
            class="form-control"
            required
            [(ngModel)]="asset.model"
          />
          <span *ngIf="model.invalid && model.touched" class="errorMessage"
            >Enter Model</span
          >
        </div>
      </div>
      <div class="row">
        <div class="form-group col-4">
          <label for="hostName">Host Name<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Host Name"
            name="hostName"
            #hostname="ngModel"
            class="form-control"
            required
            [(ngModel)]="asset.hostName"
          />
          <span
            *ngIf="hostname.invalid && hostname.touched"
            class="errorMessage"
            >Enter Host Name</span
          >
        </div>
        <div class="form-group col-4">
          <label for="oem">OEM<sup class="star">*</sup></label>
          <select
            class="form-select"
            name="oem"
            #oem="ngModel"
            required
            [(ngModel)]="asset.oem"
          >
            <option value="">Select Option</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
          <span
            *ngIf="oem.invalid && (oem.touched || oem.dirty)"
            class="errorMessage"
            >Select OEM</span
          >
        </div>
        <div class="form-group col-4">
          <label for="expiryDate">Expiry Date<sup class="star">*</sup></label>
          <input
            type="date"
            placeholder="Expiry Date"
            name="expiryDate"
            #expdate="ngModel"
            class="form-control"
            min="{{ todayDate }}"
            required
            [(ngModel)]="asset.expiryDate"
          />
          <span *ngIf="expdate.invalid && expdate.touched" class="errorMessage"
            >Enter Future Expiry Date</span
          >
        </div>
      </div>
      <div class="row">
        <div class="form-group col-4">
          <label for="owner">Owner<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Owner"
            name="owner"
            #owner="ngModel"
            class="form-control"
            required
            pattern="^[a-zA-Z\s]+$"
            [(ngModel)]="asset.owner"
          />
          <span *ngIf="owner.invalid && owner.touched" class="errorMessage"
            ><span *ngIf="owner.errors?.['required']">Enter Owner</span>
            <span *ngIf="owner.errors?.['pattern']"
              >Only letters are allowed</span
            ></span
          >
        </div>
        <div class="form-group col-4">
          <label for="remarks">Remarks<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="Remarks"
            name="remarks"
            #remark="ngModel"
            class="form-control"
            required
            pattern="^[a-zA-Z\s]+$"
            [(ngModel)]="asset.remarks"
          />
          <span *ngIf="remark.invalid && remark.touched" class="errorMessage"
            ><span *ngIf="remark.errors?.['required']">Remark required</span
            ><span *ngIf="remark.errors?.['pattern']"
              >Only letters and blank space are allowed</span
            ></span
          >
        </div>
        <div class="form-group col-4">
          <label for="ram">RAM<sup class="star">*</sup></label>
          <input
            type="text"
            placeholder="RAM"
            name="ram"
            #ram="ngModel"
            class="form-control"
            required
            pattern="(^[0-9]+.*(gb|tb)$)|(^(na|NA)$)"
            [(ngModel)]="asset.ram"
          />
          <div *ngIf="ram.touched" class="errorMessage">
            <p *ngIf="ram.errors?.['required']">Enter RAM</p>
            <p *ngIf="ram.errors?.['pattern']">
              Please enter valid ram with unit gb or tb
            </p>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="vendorId">Vendor<sup class="star">*</sup></label>
        <select
          class="form-select"
          [(ngModel)]="asset.vendorId"
          #vendor="ngModel"
          required
          name="vendorId"
        >
          <option value="0">Select Vendor</option>
          <option *ngFor="let item of vendors" value="{{ item.id }}">
            {{ item.name }}
          </option>
        </select>
        <span *ngIf="vendor.invalid && vendor.touched" class="errorMessage"
          >Select Vendor</span
        >
        <p><a [routerLink]="['/dashboard/add-vendor']">Add New Vendor</a></p>
      </div>
      <div *ngIf="!updateflag" class="form-group">
        <input
          type="submit"
          class="btn btn-primary"
          style="position: relative; left: 40%"
          value="Submit"
          [disabled]="assetForm.invalid"
        />
      </div>
      <div *ngIf="updateflag" class="form-group">
        <input
          type="submit"
          class="btn btn-primary my-auto"
          style="position: relative; left: 40%"
          value="Update"
          [disabled]="assetForm.invalid"
        />
      </div>
    </form>
  </div>
</section>
